{% extends "base.html" %}

{% block title %}Schedule - Jarvis AI Assistant{% endblock %}

{% block content %}
<div class="flex flex-col lg:flex-row gap-8">
    <!-- Main Calendar Section -->
    <div class="flex-1 min-w-0">
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4">
            <div class="flex items-center gap-2">
                <h1 class="text-3xl font-bold text-white tracking-tight">Schedule</h1>
                <span class="text-blue-400 text-lg font-semibold">|</span>
                <span id="calendar-range" class="text-gray-400 text-lg"></span>
            </div>
            <div class="flex gap-2 items-center">
                <button class="btn-secondary" id="prev-btn"><i class="fas fa-chevron-left"></i></button>
                <button class="btn-secondary" id="today-btn">Today</button>
                <button class="btn-secondary" id="next-btn"><i class="fas fa-chevron-right"></i></button>
            </div>
            <div class="flex gap-2">
                <button class="btn-primary" id="month-view-btn">Month</button>
                <button class="btn-secondary" id="week-view-btn">Week</button>
                <button class="btn-secondary" id="day-view-btn">Day</button>
            </div>
        </div>
        <!-- Filters -->
        <div class="glass p-4 mb-6 flex flex-wrap gap-4 items-center">
            <select id="type-filter" class="form-input w-40">
                <option value="">All Types</option>
                <option value="task">Tasks</option>
                <option value="deadline">Deadlines</option>
            </select>
            <select id="status-filter" class="form-input w-40">
                <option value="">All Status</option>
                <option value="pending">Pending</option>
                <option value="in_progress">In Progress</option>
                <option value="completed">Completed</option>
                <option value="cancelled">Cancelled</option>
            </select>
            <select id="category-filter" class="form-input w-40">
                <option value="">All Categories</option>
            </select>
            <select id="project-filter" class="form-input w-40">
                <option value="">All Projects</option>
            </select>
            <select id="completed-filter" class="form-input w-40">
                <option value="">All</option>
                <option value="true">Completed</option>
                <option value="false">Incomplete</option>
            </select>
            <button class="btn-primary" id="apply-filters-btn"><i class="fas fa-filter mr-2"></i>Apply Filters</button>
        </div>
        <!-- Calendar Grid -->
        <div id="calendar-container" class="glass p-6 min-h-[500px] overflow-x-auto">
            <!-- Calendar will be rendered here by JS -->
        </div>
    </div>
    <!-- Sidebar: Analytics/Stats -->
    <div class="w-full lg:w-80 flex-shrink-0">
        <div class="glass p-6 mb-6">
            <h2 class="text-xl font-semibold text-white mb-4 flex items-center">
                <i class="fas fa-chart-pie text-blue-400 mr-2"></i>Analytics
            </h2>
            <div id="schedule-analytics" class="space-y-2">
                <!-- Stats will be loaded here by JS -->
            </div>
        </div>
        <div class="glass p-6">
            <h2 class="text-xl font-semibold text-white mb-4 flex items-center">
                <i class="fas fa-bell text-yellow-400 mr-2"></i>Upcoming Reminders
            </h2>
            <div id="upcoming-reminders" class="space-y-2">
                <!-- Reminders will be loaded here by JS -->
            </div>
        </div>
    </div>
</div>
{% include "partials/task_modal.html" %}
{% endblock %}

{% block scripts %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="/static/js/task_modal.js"></script>
<script src="https://cdn.jsdelivr.net/npm/luxon@3.4.3/build/global/luxon.min.js"></script>
<script src="/static/js/schedule.js"></script>
<script>
// Placeholder: JS logic for calendar rendering, fetching data, filters, analytics, reminders
// Will be implemented in the next steps
</script>
{% endblock %} 